<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FlipBun — Level 1</title>
<link rel="icon" type="image/png" href="FlipBun.png">
<style>
body{margin:0;height:100vh;display:flex;flex-direction:column;align-items:center;background:url("j1.jpg") center/cover no-repeat;font-family:Arial,sans-serif;box-sizing:border-box;border:12px double #4d260f;position:relative;padding:18px;}
body::before{content:"";position:fixed;inset:12px;border:6px double #4d260f;border-radius:30px;pointer-events:none;z-index:10;}
body::after{content:"";position:fixed;inset:24px;border:3px dotted #4d260f;border-radius:24px;pointer-events:none;z-index:10;}
h1{margin-top:20px;color:#4d260f;background:rgba(255,255,255,0.7);padding:10px 25px;border-radius:20px;border:4px solid #4d260f;}
#top{margin-top:10px;background:rgba(255,255,255,0.7);padding:10px 20px;border-radius:15px;color:#4d260f;font-size:18px;border:4px solid #4d260f;}
#game{margin-top:40px;display:grid;grid-template-columns:repeat(4,130px);gap:20px;padding:20px;border:6px solid #4d260f;border-radius:30px;background:rgba(255,255,255,0.4);}
.card{width:130px;height:120px;border-radius:18px;background:#aa814c;border:4px solid #4d260f;cursor:pointer;display:flex;align-items:center;justify-content:center;overflow:hidden;}
.card img{width:70%;height:70%;object-fit:contain;}
.card.back img{width:70%;height:70%;object-fit:contain;}#timer-container { position: absolute; top: 20px;
  left: 20px;font-size: 24px; font-family: 'Quicksand', sans-serif;
  background: rgba(255,255,255,0.8); padding: 8px 12px; border-radius: 12px; border: 2px solid #6b3b1f; display: flex;
  align-items: center;
  gap: 6px;
}
#retry-btn{
  background:#4d260f;
  color:white;
  border:none;
  padding:10px 26px;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
}
#retry-btn:hover{
  background:#3a1d0a;
}

.next-btn{
  display:inline-block;
  background:#4d260f;
  color:#fff;
  text-decoration:none;
  padding:10px 28px;
  border-radius:10px;
  font-size:18px;
  font-weight:bold;
}
.next-btn:hover{
  background:#3a1d0a;
}
.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.popup.hidden{display:none;}

.popup-box{
  background:#c29a6b;
  border:6px double #4d260f;
  padding:30px;
  border-radius:24px;
  text-align:center;
  box-shadow:0 0 25px rgba(0,0,0,.6);
  animation:pop .3s ease;
}

.popup-box img{width:180px;margin-bottom:15px;}

.popup-box h2{
  color:#4d260f;
  margin-bottom:15px;
  font-size:28px;
}

.popup-box button{
  background:#4d260f;
  color:#fff;
  border:none;
  padding:10px 26px;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
}
.popup-box button:hover{background:#3a1d0a;}
@keyframes pop{
  from{transform:scale(.7);opacity:0;}
  to{transform:scale(1);opacity:1;}
}
</style>
</head>
<body>
<h1>Easy Mode</h1>
<div id="timer-container">
  ⏳ <span id="timer">0:00</span>
</div>
<div id="top">Flips left: <span id="flips">20</span></div>

<div id="game"></div>
<script>
const back = "card.png";
const images = ["flip1.png", "flip2.png", "flip3.png", "flip4.png"];
let cards = images.concat(images);
let flips = 12;
let first = null;
let second = null;
let lock = false;
document.getElementById("flips").textContent = flips;
cards.sort(() => Math.random() - 0.5);
const game = document.getElementById("game");
cards.forEach(img => {
  const card = document.createElement("div");
  card.className = "card back";

  const imgEl = document.createElement("img");
  imgEl.src = back;
  card.appendChild(imgEl);
  card.dataset.img = img;
  game.appendChild(card);
  card.onclick = () => {
    if (lock) return;
    if (card === first) return;
    if (card.classList.contains("matched")) return;
    if (flips <= 0) return;
    card.classList.remove("back");
    card.firstChild.src = img;
    if (!first) {
      first = card;
      return;
    }

    second = card;
    lock = true;
    flips--;
    document.getElementById("flips").textContent = flips;

    if (flips === 0) clearInterval(timerInterval);

   if (first.dataset.img === second.dataset.img) {
  first.classList.add("matched");
  second.classList.add("matched");

  setTimeout(() => {
    reset();         
    checkGameOver();  
  }, 300);
}

 else {
      setTimeout(() => {
      first.classList.add("back");
      second.classList.add("back");
      first.firstChild.src = back;
      second.firstChild.src = back;
      reset();
      }, 700);
    }
  };
});
function reset() {
  first = null;
  second = null;
  lock = false;
}
let timeLeft = 45;
let timerInterval = setInterval(updateTimer, 1000);
updateTimer();
function updateTimer() {
  if (timeLeft <= 0) {
    clearInterval(timerInterval);
    document.getElementById("timer").textContent = "0:00";
    showFail();
    return;}
  timeLeft--;
  let mins = Math.floor(timeLeft / 60);
  let secs = timeLeft % 60;
  document.getElementById("timer").textContent =
    `${mins}:${secs < 10 ? '0' + secs : secs}`;}
function showWin(){
  document.getElementById("popup-img").src = "win.png";
  document.getElementById("popup-text").textContent = "You Win!";
  document.querySelector(".next-btn").style.display = "inline-block";
  document.getElementById("retry-btn").style.display = "none";
  document.getElementById("popup").classList.remove("hidden");
}

function showFail(){
  document.getElementById("popup-img").src = "fail.png";
  document.getElementById("popup-text").textContent = "Game Over!";
  document.querySelector(".next-btn").style.display = "none";
  document.getElementById("retry-btn").style.display = "inline-block";
  document.getElementById("popup").classList.remove("hidden");
}
function checkGameOver() {
  const matched = document.querySelectorAll(".matched").length;
  if (matched === cards.length) {
    clearInterval(timerInterval);
    showWin();
  }
}

</script>
<div id="popup" class="popup hidden">
  <div class="popup-box">
    <img id="popup-img" src="" />
    <h2 id="popup-text"></h2>
    <a href="level2.html" class="next-btn">Next</a>
<button id="retry-btn" onclick="location.reload()">Play Again</button>
  </div>
</div>
</body>
</html>

  